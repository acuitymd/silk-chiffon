[package]
name = "silk_chiffon"
version = "0.1.0"
edition = "2024"
authors = ["Cora Sutton <cora@sutton.me>"]
description = "Silky smooth conversion between columnar data formats üíù"
license = "MIT"
repository = "https://github.com/acuitymd/silk-chiffon"
homepage = "https://github.com/acuitymd/silk-chiffon"
readme = "README.md"
categories = [
  "command line utilities",
  "data processing",
  "columnar data",
]

[[bin]]
name = "silk-chiffon"
path = "src/main.rs"

[dependencies]
anyhow = "~1.0"
arrow = { version = "~55.2", features = ["default", "ipc_compression"] }
clap = { version = "~4.5", features = ["default", "derive"] }
clio = { version = "~0.3", features = ["clap-parse"] }
datafusion = "~49.0"
duckdb = { version = "~1.3", features = ["bundled"] }
futures = "~0.3"
glob = "~0.3"
pg_escape = "~0.1"
parquet = { version = "~55.2", features = [
  "default",
  "async",
  "json",
  "arrow_canonical_extension_types",
] }
sha2 = "~0.10"
tempfile = "~3.20"
tokio = { version = "~1.47", features = ["full"] }
sanitize-filename = "~0.6"
serde_json = "~1.0"
serde = { version = "~1.0", features = ["derive"] }
async-trait = "~0.1"
strum = "~0.27"

[features]
default = []

[dev-dependencies]
tempfile = "~3.20"
assert_cmd = "~2.0"
predicates = "~3.1"
rand = "~0.9"
criterion = { version = "~0.7", features = ["html_reports", "async_tokio"] }

[[bench]]
name = "partition_benchmark"
harness = false

[[bench]]
name = "partition_formats_benchmark"
harness = false

[[bench]]
name = "partition_distributions_benchmark"
harness = false

[[bench]]
name = "partition_string_keys_benchmark"
harness = false

[[bench]]
name = "partition_sorting_benchmark"
harness = false

[[bench]]
name = "query_benchmark"
harness = false

[profile.release]
lto = true
codegen-units = 1
panic = "abort"
