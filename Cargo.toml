[package]
name = "silk_chiffon"
version = "0.1.0"
edition = "2024"
authors = ["Cora Sutton <cora@sutton.me>"]
description = "Silky smooth conversion between columnar data formats üíù"
license = "MIT"
repository = "https://github.com/acuitymd/silk-chiffon"
homepage = "https://github.com/acuitymd/silk-chiffon"
readme = "README.md"
categories = ["command line utilities", "data processing", "columnar data"]

[[bin]]
name = "silk-chiffon"
path = "src/main.rs"

[dependencies]
anyhow = "^1.0.100"
arrow = { version = "^56.2.0", features = ["default", "ipc_compression"] }
clap = { version = "^4.5.49", features = ["default", "derive"] }
clio = { version = "^0.3.5", features = ["clap-parse"] }
datafusion = "^50.2.0"
duckdb = { version = "^1.4.1", features = ["appender-arrow"] }
futures = "^0.3.31"
glob = "^0.3.3"
pg_escape = "^0.1.1"
parquet = { version = "^56.2.0", features = [
  "default",
  "async",
  "json",
  "arrow_canonical_extension_types",
] }
sha2 = "^0.10.9"
tempfile = "^3.23.0"
tokio = { version = "^1.48.0", features = ["full"] }
sanitize-filename = "^0.6.0"
serde_json = "^1.0.145"
serde = { version = "^1.0.228", features = ["derive"] }
async-trait = "^0.1.89"
strum = "^0.27.2"
uuid = { version = "^1.18.1", features = ["v4"] }

[features]
default = []

[dev-dependencies]
assert_cmd = "^2.0.17"
predicates = "^3.1.3"
rand = "^0.9.2"
criterion = { version = "^0.7.0", features = ["html_reports", "async_tokio"] }
duckdb = { version = "^1.4.1", features = ["appender-arrow", "chrono"] }
chrono = "0.4.42"

[[bench]]
name = "partition_benchmark"
harness = false

[[bench]]
name = "partition_formats_benchmark"
harness = false

[[bench]]
name = "partition_distributions_benchmark"
harness = false

[[bench]]
name = "partition_string_keys_benchmark"
harness = false

[[bench]]
name = "partition_sorting_benchmark"
harness = false

[[bench]]
name = "query_benchmark"
harness = false

[profile.release]
lto = true
codegen-units = 1
panic = "abort"

[lints.clippy]
case_sensitive_file_extension_comparisons = "warn"
cast_lossless = "warn"
cast_possible_truncation = "warn"
cast_possible_wrap = "warn"
cast_precision_loss = "warn"
needless_pass_by_value = "warn"
option_as_ref_cloned = "warn"
similar_names = "warn"
